\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{enumerate}
\usepackage{tikz}
\usepackage{hyperref}
\usepackage{listings}
\usetikzlibrary{shapes.geometric, arrows}
\setlength{\tabcolsep}{18pt}
\usepackage{hyperref}
\usepackage{rotating}
\usepackage{multirow}
\hypersetup{
    colorlinks = true,
    linkbordercolor = {white},
    linkcolor = {red},
}
\usepackage{geometry}
\geometry{
    a4paper,
    % total={170mm,257mm},
    left=3mm,
    top=3mm,
}

\title{Assignment 1}
\author{Gohil Dwijesh \\ 2017CS50407
        \and Prafful \\ 2017CS10369}
\date{August 2019}
    
\begin{document}
\maketitle
%-----------------------------------------------------------------------
\section{Local network analysis}
    \setlength{\tabcolsep}{10pt} % Default value: 6pt
    \renewcommand{\arraystretch}{1.5} % Default value: 1
    \begin{table}[ht]
        \centering
        \resizebox{\textwidth}{!}{%
            \begin{tabular}{|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|}
                 \hline
                    Day-1 & \multicolumn{2}{|c|}{11/8/19} & \multicolumn{2}{|c|}{Day-3}\\
                 \hline
                    Afternoon & Afternoon(3pm) & Night & Afternoon & Night\\
                \hline
                    \textbf{10.243.144.0:} 10.243.144.1, 10.243.144.164 
                    & -1 
                    & -1 
                    & -1
                    & -1\\
                \hline
                    \textbf{10.254.243.0:} 10.254.243.1, 10.254.243.2, 10.254.243.5, 10.254.243.6 
                    & \textbf{10.254.243.0:} 10.254.243.1, 10.254.243.2, 10.254.243.5, 10.254.243.6  
                    & -1 
                    & -1 
                    & -1\\
                \hline
                    \textbf{10.254.239.0:} 10.254.239.1, 10.254.239.2, 10.254.239.5, 10.254.239.6 
                    & \textbf{10.254.239.0:} 10.254.239.1, 10.254.239.2, 10.254.239.5, 10.254.239.6
                    & -1 & -1 & -1 \\
                \hline
                    \textbf{10.254.236.0:} 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22 
                    &  \textbf{10.254.236.0:} 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & -1 & -1 & -1\\
                \hline
            \end{tabular}{}
        }
        \caption{Analysis over Ethernet}
    \end{table}
    \setlength{\tabcolsep}{10pt} % Default value: 6pt
    \renewcommand{\arraystretch}{1.5} % Default value: 1
    \begin{table}[ht]
        \centering
        \resizebox{\textwidth}{!}{%
            \begin{tabular}{|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|}
                 \hline
                    \multicolumn{2}{|c|}{7/8/19} & \multicolumn{2}{|c|}{8/8/19} & \multicolumn{2}{|c|}{11/8/19}\\
                 \hline
                    Afternoon(15:57) & Night(21.14) & Afternoon(11:40) & Night(19:28) & Afternoon(12:00) & Night\\
                \hline
                    \textbf{10.184.0.14: } 10.184.0.1, 10.184.0.2, 10.184.0.13, 10.184.0.14 
                    & \textbf{10.184.0.14: } 10.184.0.1, 10.184.0.2, 10.184.0.13, 10.184.0.14 
                    & \textbf{10.184.0.14: } 10.184.0.1, 10.184.0.2, 10.184.0.13, 10.184.0.14
                    & \textbf{10.184.0.14: } 10.184.0.1, 10.184.0.2, 10.184.0.13, 10.184.0.14
                    & \textbf{10.184.0.14: } 10.184.0.1, 10.184.0.2, 10.184.0.13, 10.184.0.14
                    & -1\\
                \hline
                    \textbf{10.254.236.18: } 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & \textbf{10.254.236.18: } 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & \textbf{10.254.236.18: } 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & \textbf{10.254.236.18: } 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & \textbf{10.254.236.18: } 10.254.236.9, 10.254.236.10, 10.254.236.13, 10.254.236.14, 10.254.236.17, 10.254.236.18, 10.254.236.21, 10.254.236.22
                    & -1\\
                \hline
                    \textbf{10.7.174.111: } 10.7.174.111, 10.7.174.113
                    & \textbf{10.7.174.111: } 10.7.174.111, 10.7.174.113
                    & \textbf{10.7.174.111: } 10.7.174.111, 10.7.174.113
                    & \textbf{10.7.174.111: } 10.7.174.111, 10.7.174.113
                    & \textbf{10.7.174.111: } 10.7.174.111, 10.7.174.113
                    & -1\\
                \hline
            \end{tabular}{}
        }
        \caption{IP vs OS}
    \end{table}
    \setlength{\tabcolsep}{10pt} % Default value: 6pt
    \renewcommand{\arraystretch}{1.5} % Default value: 1
    \begin{table}[ht]
        \centering
        \resizebox{\textwidth}{!}{%
            \begin{tabular}{|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|p{2.5cm}|}
                    \hline
                        ip & os & ip & os & ip & os\\
                    \hline
                        10.184.0.14 & Cisco NX-OS & 10.184.0.1 & Cisco NX-OS & 10.184.0.2 & Apple Apple TV 5.X (86\%)\\
                    \hline
                        10.184.0.13 & Cisco NX-OS & 10.254.236.9 & Cisco NX-OS & 10.254.236.10 & Cisco NX-OS\\
                    \hline
                        10.254.236.13 & Cisco NX-OS & 10.254.236.14 & Cisco NX-OS & 10.254.236.17 & Cisco NX-OS\\
                    \hline
                    10.254.236.18 & Cisco NX-OS & 10.254.236.21 & Cisco NX-OS & 10.254.236.22 & Cisco NX-OS\\
                    \hline
                    10.7.174.111 & Linux(95\%) & 10.7.174.113 & Linux(95\%) &  & \\
                    \hline
            \end{tabular}{}
        }
        \caption{Analysis over wife}
    \end{table}
    \newpage
%-----------------------------------------------------------------------
\section{Internet Architecture}
    \setlength{\tabcolsep}{10pt} % Default value: 6pt
    \renewcommand{\arraystretch}{1.5} % Default value: 1
    \begin{table}[ht]
        \centering
        \resizebox{\textwidth}{!}{%
            \begin{tabular}{|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|}
                \hline
                \multirow{2}{2em}{Servers} & \multicolumn{2}{|c|}{Waterloo} & \multicolumn{2}{|c|}{Capetown} & \multicolumn{2}{|c|}{IIT Delhi} & \multicolumn{2}{|c|}{Google} & \multicolumn{2}{|c|}{Facebook}\\
                \cline{2-11}
                & \# Hops & latency(ms) & \# Hops & latency(ms) & \# Hops & latency(ms) & \# Hops & latency(ms) & \# Hops & latency(ms) \\
                \hline
                s1(Czech) & 17 & 123.7 & 18 & 200.9 & -1 & -1 & 6 & 6.5 & 6 & 5.73\\
                \hline
                s2(USA)  & 13 & 20.4 & 15 & 217.4 & -1 & -1 & 7 & 3.0 & 8 & 18.7\\
                \hline
                s3(Australia) & 17 & 208.5 & 21 & 417.3 & -1 & -1 & 14 & 208.1 & 11 & 189.1\\
                \hline
            \end{tabular}{}
        }
        \caption{Tracerouting through servers from different continents}
    \end{table}
    \begin{table}[!h]
        \centering
        \resizebox{\textwidth}{!}{%
            \begin{tabular}{|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|}
                \hline
                \multirow{2}{2em}{Servers} & \multicolumn{2}{|c|}{Waterloo} & \multicolumn{2}{|c|}{CapeTown} & \multicolumn{2}{|c|}{IIT Delhi} & \multicolumn{2}{|c|}{Google} & \multicolumn{2}{|c|}{Facebook}\\
                \cline{2-11}
                & \# Hops & latency & \# Hops & latency & \# Hops & latency & \# Hops & latency & \# Hops & latency \\
                \hline
                localhost & 14 & 476 & 17 & 682.5 & -1 & -1 & 10 & 78.4 & 9 & 77.1\\
                \hline
            \end{tabular}{}
        }
        \caption{Tracerouting from IIT Delhi using Airtel 4G}
    \end{table}
%-----------------------------------------------------------------------
\section{Packet Analysis}
    \begin{enumerate}[a)]
        \item Grabbing and analysing packats while visiting \href{www.iitd.ac.in}{www.iitd.ac.in} website
            \begin{enumerate}[i)]
                \item DNS filter
                    \begin{itemize}
                        \item My laptop(10.184.52.92) sends DNS query to IIT Delhi DNS server(10.10.2.2)
                        \item Asking for IP addresses for the requested domain name (\href{www.iitd.ac.in}{iitd.ac.in}) and all the domain names which are linked with that web page(i.e., \href{www.library.iitd.ac.in}{library.iitd.ac.in})
                        \item IIT Delhi DNS server replies with IP address of the queried domain name. For example, reply for \href{www.iitd.ac.in}{iitd.ac.in} domain name is 10.7.174.111
                        \item Time taken for the both query and reply for \href{www.iitd.ac.in}{iitd.ac.in} domain name is 0.008394231 seconds
                        \item Different time taken for different queries
                    \end{itemize}{}
                \item HTTP filter
                    \begin{itemize}
                        \item 150 HTTP requests found
                        \item My laptop(10.184.52.92) sends an HTTP request to \href{www.iitd.ac.in}{iitd.ac.in}(10.7.174.111) website host, asking for the html(or similar) code of the web-page
                        \item Host(10.7.174.111) sends an HTTP respond to me(10.184.52.92), sending the web-page code
                        \item Complex web-pages consist of references to many other files(.css, .js, etc.), photos, gifs,  etc. in its HTML code
                        \item My browser starts rendering the received code. As soon as it finds references to any file that is located in the server, it sends a new HTTP request, asking for the content of that file
                        \item As the browser encounters file references while rendering, it keeps asking for the content via HTTP requests
                    \end{itemize}{}
                \item TCP filter
                    \begin{itemize}
                        \item Optimization done by the browser:
                        \begin{itemize}
                            \item There are multiple TCP connections made from source port to destination port(80). Each TCP connection defers in source port(43001-43187). By default each connection is persistent unless client explicitly signals the closing of TCP connection \item Multiple HTTP requests-responses can be made on the same TCP connection. In general these requests are pipe-lined
                            \item Such HTTP requests-responses can be made on all the TCP connections between the source and the destination host
                            \item This configuration makes TCP protocols to work more efficiently, and reduces the network traffic
                        \end{itemize}{}
                        \item Yes, there are some content objects that are fetched on the same TCP port because of multiple HTTP requests can be made on the same TCP connection
                        \item After any TCP connection is established, client sends an HTTP request to server and as soon as the server receives the request it sends back a TCP ack packet to the client and vice versa
                    \end{itemize}{}
                \item Time taken to download the complete web-page
                    \begin{itemize}
                        \item Time at the first DNS query: 2.311199694 sec
                        \item Time at the last HTTP response: 5.853938462 sec
                        \item Total time taken to download the complete web-page is: 3.54273877 sec
                    \end{itemize}{}
                \item HTTP vs HTTPS protocols
                    \begin{itemize}
                        \item Observations:
                            \begin{itemize}
                                \item After tracing for \href{http://www.indianexpress.com}{http://www.indianexpress.com} website and analyzing the packets we could find exactly one HTTP packet and instead we found TLSv1.2 packets
                            \end{itemize}{}
                        \item HTTP vs HTTPS:
                            \begin{itemize}
                                \item HTTP response packet contains:
                                    \begin{lstlisting}    
    HTTP/1.1 301 Moved Permanently
    Location: https://indianexpress.com
                                    \end{lstlisting}
                                \item HTTPS is more secure than HTTP. It consists of SSL certificate that encrypts the data being transferred on the network for the security purposes. It also uses TLS(Transport Layer Security) protocol to prevent the data being modified or corrupted
                                \item That is why we see TLSv1.2 packets instead of HTTP packets
                            \end{itemize}{}
                        \item Take home message:
                            \begin{itemize}
                                \item Sensitive websites that involve routing of sensitive user data, prefer secure connection. Indianexpress also uses the secure connection, so we can not see the data being transffered(in this case: the webpage content), because it is encrypted using SSL certificate.
                            \end{itemize}{}
                    \end{itemize}{}
            \end{enumerate}{}
    \end{enumerate}
%-----------------------------------------------------------------------
\section{Tinkering with the network setting}
\subsection{Where to configure IP address and DNS server}
    \begin{itemize}
        \item Linux: add the following to /etc/network/interfaces file.
            \begin{lstlisting}    
                auto eth0
                iface eth0 inet static    
                    address 10.0.0.41
                    netmask 255.255.255.0
                    network 10.0.0.0
                    broadcast 10.0.0.255
                    gateway 10.0.0.1
                    dns-nameservers 10.0.0.1 8.8.8.8
                    dns-domain acme.com
                    dns-search acme.com
            \end{lstlisting}
    \end{itemize}{}
\subsection{Configure static IP address on android}
    \begin{itemize}
        \item wifi settings -$>$ networks details -$>$ IP setting(change it from DHCP to Static) -$>$ (fill the details)
    \end{itemize}
\subsection{Static IP Assignment vs Dynamic IP Assignment}
    \begin{itemize}
        \item Static IP addresses are the fixed IP addresses given to any device on internet and Dynamic IP addresses change over time(dynamically assigned).
        \item Static IP addresses are more vulnerable compared to Dynamic ones. So mail servers, gaming servers which are not worried about their locations, generally use static IP addressing, while business, offices, etc. uses dynamic IP addressing.
    \end{itemize}
%-----------------------------------------------------------------------
\end{document}
